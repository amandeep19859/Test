<?php

/**
 * AlertasDeCajaTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class AlertasDeCajaTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object AlertasDeCajaTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('AlertasDeCaja');
    }
    
    /**
     * create Alertas de caja query to return all records descnding order
     * @return String
     */
    public function getAlertasListQuery(){
        // create alertas de caja query
        $alertas_de_caja_query = Doctrine_Query::create()
                                                 ->from('AlertasDeCaja adc')
                                                 ->orderBy('created_at desc');
        return $alertas_de_caja_query;
    }
    
    /**
     * Delete record from Alertas De Caja model. method delete records according
     * to given parameter ( id or all records)
     * @param String $record_id
     */
    public function deleteRecordsById($record_id){
        // create delete query
        $delete_query = Doctrine_Query::create()
                                       ->delete()
                                       ->from('AlertasDeCaja adc');
        if(strtolower($record_id) != 'all'){
            $delete_query->where('adc.id =?', $record_id);
        }
        // execute delete query
        $delete_query->execute();
    }
    
    /**
     * fetch cash up query
     * @param String $user_id
     * @return Doctrine_Query
     */
    public function getCashUpRecords($user_id){
      // create alertas de caja query
        $alertas_de_caja_query = Doctrine_Query::create()
                                                 ->from('AlertasDeCaja adc')
                                                 ->where('adc.user_id =?', $user_id)
                                                 ->orderBy('created_at desc');
        return $alertas_de_caja_query;
    }
}