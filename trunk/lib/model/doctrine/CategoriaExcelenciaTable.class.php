<?php

/**
 * CategoriaExcelenciaTable
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class CategoriaExcelenciaTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object CategoriaExcelenciaTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('CategoriaExcelencia');
    }

    public static function getMedalla($valor)
    {
        if ($valor > 60) {
            return 'ninguno';
        }
        $q = self::getInstance()->createQuery('q')
            ->select('nombre')
            ->where('valor_max >= ?', $valor)
            ->andWhere('valor_min <= ?', $valor);

        $medalla = $q->fetchOne(array(), Doctrine_Core::HYDRATE_SINGLE_SCALAR);

        return $medalla;
    }

    public static function getRango($tipo)
    {
        $q = self::getInstance()->createQuery('q')
            ->select('valor_max, valor_min')
            ->where('nombre = ?', strtolower($tipo));
        return $q->fetchOne(array(), Doctrine_Core::HYDRATE_ARRAY_SHALLOW);
    }
}