<?php

/**
 * CompanyCaseStudyTable
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class CompanyCaseStudyTable extends Doctrine_Table {

    /**
     * Returns an instance of this class.
     *
     * @return object CompanyCaseStudyTable
     */
    public static function getInstance() {
        return Doctrine_Core::getTable('CompanyCaseStudy');
    }

    /**
     * returns fetch All records query
     * @return Doctrine_Query
     */
    public function fecthAll() {
        //create fetch all query
        $fetch_all_query = Doctrine_Query::create()
                ->from('CompanyCaseStudy');
        return $fetch_all_query;
    }

    /**
     * Join as States EmpresaSectorUno EmpresaSectorDos EmpresaSectorTres Localidad
     * @param type $query
     * @return type
     */
    public static function doSelectJoinSector($query) {
        $rootAlias = $query->getRootAlias();
        $query = $query->select($rootAlias . '.*, esu.name')->leftJoin($rootAlias . '.EmpresaSectorUno esu');
        $query->select($rootAlias . '.*, esd.name')->leftJoin($rootAlias . '.EmpresaSectorDos esd');
        $query->select($rootAlias . '.*, c.name')->leftJoin($rootAlias . '.Localidad c');
        $query->select($rootAlias . '.*, s.name')->leftJoin($rootAlias . '.States s');
        return $query->select($rootAlias . '.*, est.name')->leftJoin($rootAlias . '.EmpresaSectorTres est');
    }

}