<?php

/**
 * ConcursoReferendumTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class ConcursoReferendumTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object ConcursoReferendumTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('ConcursoReferendum');
    }
    
    /**
     * return referenda result set by given user id
     * @param String $user_id User Id
     * @return Array
     */
    public function getAllReferendaByUser($user_id){
      //create referenda query
      $referenda_query = Doctrine_Query::create()
                                        ->from('ConcursoReferendum cr')
                                        ->where('cr.user_id =?', $user_id)
                                        ->groupBy('cr.concurso_id');
      //return referenda query result 
      return $referenda_query->execute();
    }
}